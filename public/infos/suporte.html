<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suporte - Barbearia Brooklyn</title>
    <link rel="shortcut icon" href="../images/logos/logo-512px.png">
    <link rel="stylesheet" href="../css/public.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-N43M0KEQNW"></script>
    <!-- script Turnstile -->
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-N43M0KEQNW');
    </script>
</head>
<body>
    <!-- Header -->
    <header id="header-placeholder"></header>

    <section class="infos-section">
        <div class="infos-title">
            <h1>Suporte</h1>
        </div>
        <div class="infos-text">
            <p>Tem alguma questão, sugestão ou problema? Preencha o formulário abaixo e entraremos em contacto consigo o mais breve possível.</p>
            
            <form action="https://formsubmit.co/suporte@brooklynbarbearia" method="POST" class="form support-form">
                <!-- FormSubmit Configurations -->
                <input type="hidden" name="_subject" value="Novo contacto de suporte - Barbearia Brooklyn">
                <input type="hidden" name="_captcha" value="true">
                <input type="hidden" name="_template" value="table">
                <input type="hidden" name="_next" value="https://barbearia-brooklyn.pages.dev/infos/suporte.html?success=true">
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="nome">Nome Completo *</label>
                        <input type="text" id="nome" name="nome" required placeholder="O seu nome">
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email *</label>
                        <input type="email" id="email" name="email" required placeholder="exemplo@email.com">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="telefone">Telefone</label>
                        <input type="tel" id="telefone" name="telefone" placeholder="+351 912 345 678">
                    </div>
                    
                    <div class="form-group">
                        <label for="assunto">Assunto *</label>
                        <select id="assunto" name="assunto" required>
                            <option value="">Selecione um assunto</option>
                            <option value="Questão sobre reserva">Problema com reserva</option>
                            <option value="Questão sobre conta">Problemas com a conta pessoal</option>
                            <option value="Problema técnico">Problema técnico</option>
                            <option value="Sugestão">Sugestão</option>
                            <option value="Reclamação">Reclamação</option>
                            <option value="Outro">Outro</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="mensagem">Mensagem *</label>
                    <textarea id="mensagem" name="mensagem" rows="6" required placeholder="Descreva a sua questão ou comentário..."></textarea>
                </div>

                <button type="submit" class="btn-submit">
                    <i class="fas fa-paper-plane"></i>
                    Enviar Mensagem
                </button>
            </form>

            <!-- Mensagem de Sucesso -->
            <div id="success-message" class="success-message" style="display: none;">
                <i class="fas fa-check-circle"></i>
                <h3>Mensagem Enviada com Sucesso!</h3>
                <p>Obrigado pelo seu contacto. Responderemos o mais breve possível.</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="footer-placeholder"></footer>

    <script src="../js/utils.js"></script>
    <script src="../js/main.js"></script>
    <script>
        // Mostrar mensagem de sucesso se o parâmetro estiver presente
        const urlParams = new URLSearchParams(window.location.search);
        if (urlParams.get('success') === 'true') {
            document.querySelector('.support-form').style.display = 'none';
            document.getElementById('success-message').style.display = 'block';
            
            // Remover o parâmetro da URL sem recarregar a página
            window.history.replaceState({}, document.title, window.location.pathname);
        }
    </script>
</body>
</html>
